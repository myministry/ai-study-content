{
  "version": 2,
  "updatedAt": "2025-01-10",
  "flows": [
    {
      "id": "menu_week_plan",
      "title": "Меню на 7 дней",
      "scenarioId": "recipes_everyday",
      "domain": "everyday",
      "estimatedMinutes": 15,
      "steps": [
        {
          "id": "collect_brief",
          "kind": "collect",
          "title": "Кто ест и какие ограничения",
          "description": "Расскажи, кто будет есть это меню и какие есть ограничения по питанию и бюджету.",
          "fields": [
            {
              "id": "household",
              "label": "Кто будет есть (кол-во и возраст)",
              "placeholder": "Например: 2 взрослых и ребёнок 5 лет",
              "type": "shortText",
              "isRequired": true
            },
            {
              "id": "diet",
              "label": "Ограничения и предпочтения",
              "placeholder": "Например: без глютена, мало сахара, не любим рыбу",
              "type": "longText",
              "isRequired": false
            },
            {
              "id": "budget",
              "label": "Бюджет и продукты дома",
              "placeholder": "Примерно бюджет на неделю и что уже есть дома",
              "type": "longText",
              "isRequired": false
            }
          ],
          "promptTemplate": null,
          "rubric": null,
          "exportType": null
        },
        {
          "id": "ai_generate_menu",
          "kind": "aiGenerate",
          "title": "Черновик меню на неделю",
          "description": "Сгенерируем план питания на 7 дней с учётом твоих вводных.",
          "fields": null,
          "promptTemplate": "Ты — диетолог и планировщик меню.\n\nДомохозяйство: {{household}}\nОграничения и предпочтения: {{diet}}\nБюджет и запасы: {{budget}}\n\nСоставь меню на 7 дней. Формат:\n- День 1: завтрак / обед / ужин (кратко, без рецепта, но с основными ингредиентами)\n- День 2: ...\n\nСтарайся использовать продукты, которые уже есть, и не выходить за разумный бюджет.",
          "rubric": null,
          "exportType": null
        },
        {
          "id": "review_menu",
          "kind": "reviewRubric",
          "title": "Проверка меню",
          "description": "Попросим AI проверить меню по ключевым критериям и предложить улучшения.",
          "fields": null,
          "promptTemplate": "Вот меню пользователя:\n---\n{{previous_result}}\n---\n\nОцени его по критериям и дай короткий фидбек:\n1) Насколько учтены ограничения и предпочтения.\n2) Насколько меню разнообразно.\n3) Нет ли слишком сложных или дорогих блюд.\n\nДля каждого критерия скажи: «ОК» или «Можно улучшить» и предложи 1–2 конкретные правки.",
          "rubric": [
            {
              "id": "fit_constraints",
              "title": "Учёт ограничений",
              "description": "Меню не противоречит диете, аллергиям и личным предпочтениям."
            },
            {
              "id": "variety",
              "title": "Разнообразие",
              "description": "Блюда не повторяются слишком часто, есть разные типы продуктов."
            },
            {
              "id": "simplicity",
              "title": "Простота и бюджет",
              "description": "Блюда не требуют экзотических ингредиентов и долгой готовки."
            }
          ],
          "exportType": null
        },
        {
          "id": "export_menu",
          "kind": "export",
          "title": "Сохранить меню",
          "description": "Скопируй итоговое меню в заметки или мессенджер, чтобы пользоваться им в течение недели.",
          "fields": null,
          "promptTemplate": null,
          "rubric": null,
          "exportType": "copyText"
        }
      ]
    },
    {
      "id": "socratic_topic_explainer",
      "title": "Разобрать сложную тему",
      "scenarioId": "study_helper",
      "domain": "learning",
      "estimatedMinutes": 15,
      "steps": [
        {
          "id": "collect_topic",
          "kind": "collect",
          "title": "Что за тема и какой уровень",
          "description": "Опиши тему, которая тебе даётся тяжело, и свой текущий уровень.",
          "fields": [
            {
              "id": "topic",
              "label": "Тема или раздел",
              "placeholder": "Например: производная, интеграл, SQL JOIN, экономика фирмы",
              "type": "shortText",
              "isRequired": true
            },
            {
              "id": "level",
              "label": "Твой уровень",
              "placeholder": "Школа, университет, самоучка, практик…",
              "type": "shortText",
              "isRequired": false
            },
            {
              "id": "pain",
              "label": "Что именно непонятно",
              "placeholder": "Например: не понимаю, что такое предел; путаю INNER и LEFT JOIN…",
              "type": "longText",
              "isRequired": false
            }
          ],
          "promptTemplate": null,
          "rubric": null,
          "exportType": null
        },
        {
          "id": "ai_explain_topic",
          "kind": "aiGenerate",
          "title": "Объяснение простыми словами",
          "description": "Попросим AI объяснить тему на твоём уровне с примерами из жизни.",
          "fields": null,
          "promptTemplate": "Ты — терпеливый преподаватель.\n\nТема: {{topic}}\nУровень: {{level}}\nСложности: {{pain}}\n\n1) Объясни тему простыми словами, без формул, на 5–7 абзацев.\n2) Приведи 2–3 примера из реальной жизни.\n3) В конце задай мне 3 коротких контрольных вопроса, чтобы я проверил(а) себя.",
          "rubric": null,
          "exportType": null
        },
        {
          "id": "review_understanding",
          "kind": "reviewRubric",
          "title": "Проверка понимания",
          "description": "Попросим AI оценить твои ответы на контрольные вопросы и подсветить пробелы.",
          "fields": [
            {
              "id": "my_answers",
              "label": "Твои ответы на вопросы",
              "placeholder": "Вставь сюда свои ответы на 3 контрольных вопроса из предыдущего шага.",
              "type": "longText",
              "isRequired": true
            }
          ],
          "promptTemplate": "Ты — преподаватель.\n\nВот краткое объяснение темы, которое ты дал(а) мне раньше:\n---\n{{previous_result}}\n---\n\nВот мои ответы на твои контрольные вопросы:\n---\n{{my_answers}}\n---\n\nОцени, насколько мои ответы показывают понимание темы, по критериям:\n1) Понимание основных идей.\n2) Умение приводить примеры.\n3) Точность терминов.\n\nДля каждого критерия: «ОК» или «Можно докрутить» + 1–2 конкретных совета, что почитать/прорешать.",
          "rubric": [
            {
              "id": "core_understanding",
              "title": "Основные идеи",
              "description": "Понимание сути темы без лишних деталей."
            },
            {
              "id": "examples",
              "title": "Примеры",
              "description": "Умение приводить свои примеры."
            },
            {
              "id": "terms",
              "title": "Термины",
              "description": "Точность в использовании ключевых понятий."
            }
          ],
          "exportType": null
        },
        {
          "id": "export_notes",
          "kind": "export",
          "title": "Зафиксировать конспект",
          "description": "Скопируй объяснение и советы в свой конспект или заметки, чтобы вернуться к ним позже.",
          "fields": null,
          "promptTemplate": null,
          "rubric": null,
          "exportType": "copyText"
        }
      ]
    },
    {
      "id": "cold_email_helper",
      "title": "Холодное письмо клиенту",
      "scenarioId": "study_helper",
      "domain": "work",
      "estimatedMinutes": 10,
      "steps": [
        {
          "id": "collect_brief",
          "kind": "collect",
          "title": "Кому и с чем пишем",
          "description": "Опиши, кому ты пишешь и что хочешь предложить.",
          "fields": [
            {
              "id": "who",
              "label": "Кому пишем",
              "placeholder": "Например: владелец небольшого интернет‑магазина детской одежды",
              "type": "longText",
              "isRequired": true
            },
            {
              "id": "problem",
              "label": "Какая у них проблема",
              "placeholder": "Например: мало повторных покупок, много брошенных корзин…",
              "type": "longText",
              "isRequired": true
            },
            {
              "id": "offer",
              "label": "Что ты предлагаешь",
              "placeholder": "Например: помочь настроить письма и воронку с помощью AI",
              "type": "longText",
              "isRequired": true
            }
          ],
          "promptTemplate": null,
          "rubric": null,
          "exportType": null
        },
        {
          "id": "ai_draft_email",
          "kind": "aiGenerate",
          "title": "Черновик письма",
          "description": "Сгенерируем черновик холодного письма с понятной ценностью.",
          "fields": null,
          "promptTemplate": "Ты — специалист по продажам по e‑mail.\n\nАдресат: {{who}}\nИх проблема: {{problem}}\nМоё предложение: {{offer}}\n\nСобери черновик первого письма:\n- 1–2 предложения, показывающих, что ты понимаешь контекст и проблему.\n- Короткое объяснение, как именно ты можешь помочь.\n- 1 чёткий призыв к действию (созвон/ответ на письмо), без давления.\nТон: уважительный, без навязчивых продаж.",
          "rubric": null,
          "exportType": null
        },
        {
          "id": "review_email",
          "kind": "reviewRubric",
          "title": "Проверка письма",
          "description": "Попросим AI оценить письмо по ясности и уместности.",
          "fields": null,
          "promptTemplate": "Вот черновик письма:\n---\n{{previous_result}}\n---\n\nОцени его по критериям:\n1) Ясно ли, кому и с чем мы пишем.\n2) Понятно ли, что именно мы предлагаем и какую пользу это даёт.\n3) Насколько письмо уважительно и ненавязчиво.\n\nДля каждого критерия напиши: «ОК» или «Можно улучшить» и предложи 1–2 конкретных перефразировки.",
          "rubric": [
            {
              "id": "clarity",
              "title": "Ясность",
              "description": "Получатель понимает, что от него хотят и что ему предлагают."
            },
            {
              "id": "value",
              "title": "Ценность",
              "description": "Видна польза для адресата, а не только выгода отправителя."
            },
            {
              "id": "tone",
              "title": "Тон",
              "description": "Уважительно, без давления и манипуляций."
            }
          ],
          "exportType": null
        },
        {
          "id": "export_email",
          "kind": "export",
          "title": "Скопировать письмо",
          "description": "Скопируй итоговое письмо, чтобы отправить его из почты или мессенджера.",
          "fields": null,
          "promptTemplate": null,
          "rubric": null,
          "exportType": "copyText"
        }
      ]
    },
    {
      "id": "meeting_protocol_from_notes",
      "title": "Протокол встречи из заметок",
      "scenarioId": "study_helper",
      "domain": "work",
      "estimatedMinutes": 10,
      "steps": [
        {
          "id": "collect_notes",
          "kind": "collect",
          "title": "Черновые заметки со встречи",
          "description": "Вставь сюда свои сырые заметки со встречи (пункты, обрывки фраз).",
          "fields": [
            {
              "id": "raw_notes",
              "label": "Заметки",
              "placeholder": "Скопируй сюда то, что записал(а) во время встречи (без чувствительных данных).",
              "type": "longText",
              "isRequired": true
            },
            {
              "id": "audience",
              "label": "Кому пойдёт протокол",
              "placeholder": "Только участникам, руководителю или клиенту?",
              "type": "shortText",
              "isRequired": false
            }
          ],
          "promptTemplate": null,
          "rubric": null,
          "exportType": null
        },
        {
          "id": "ai_protocol",
          "kind": "aiGenerate",
          "title": "Структурированный протокол",
          "description": "Попросим AI оформить заметки в понятный протокол: решения и задачи.",
          "fields": null,
          "promptTemplate": "Ты — помощник, который оформляет протоколы встреч.\n\nЗаметки со встречи:\n---\n{{raw_notes}}\n---\n\nПротокол нужен для: {{audience}}\n\nСделай структурированный протокол в формате:\n1) Краткое резюме (2–3 предложения).\n2) Принятые решения (списком).\n3) Список задач: кто / что делает / к какому сроку.\n4) Открытые вопросы и риски.\nТекст делай коротким и конкретным.",
          "rubric": null,
          "exportType": null
        },
        {
          "id": "review_protocol",
          "kind": "reviewRubric",
          "title": "Проверка протокола",
          "description": "Попросим AI проверить, всё ли важное попало в протокол.",
          "fields": null,
          "promptTemplate": "Вот заметки со встречи:\n---\n{{raw_notes}}\n---\n\nВот протокол, который ты составил(а):\n---\n{{previous_result}}\n---\n\nПроверь, ничего ли важного не потерялось. Если видишь явные пропуски (важное решение или задача), дополни протокол в соответствующих разделах.\nОбъясни в 2–3 фразах, что именно ты добавил(а) и почему.",
          "rubric": [
            {
              "id": "completeness",
              "title": "Полнота",
              "description": "В протоколе отражены все ключевые решения и задачи."
            },
            {
              "id": "clarity",
              "title": "Понятность",
              "description": "Любой участник поймёт, что решили и кто что делает."
            }
          ],
          "exportType": null
        },
        {
          "id": "export_protocol",
          "kind": "export",
          "title": "Поделиться протоколом",
          "description": "Скопируй протокол или сразу поделись им с участниками.",
          "fields": null,
          "promptTemplate": null,
          "rubric": null,
          "exportType": "shareSheet"
        }
      ]
    },
    {
      "id": "ab_hypotheses_matrix",
      "title": "Матрица A/B‑гипотез",
      "scenarioId": "study_helper",
      "domain": "business",
      "estimatedMinutes": 15,
      "isProOnly": true,
      "steps": [
        {
          "id": "collect_context",
          "kind": "collect",
          "title": "О продукте и цели",
          "description": "Опиши коротко продукт, главную цель и участок воронки, где хочешь улучшения.",
          "fields": [
            {
              "id": "product",
              "label": "Что за продукт или сервис",
              "placeholder": "Например: онлайн‑курс по английскому, мобильное приложение, SaaS‑сервис…",
              "type": "longText",
              "isRequired": true
            },
            {
              "id": "goal_metric",
              "label": "Главная метрика",
              "placeholder": "Например: регистрация, активация, покупка, повторная покупка…",
              "type": "shortText",
              "isRequired": true
            },
            {
              "id": "funnel_stage",
              "label": "Участок воронки",
              "placeholder": "Например: лендинг, первый экран приложения, онбординг, корзина…",
              "type": "shortText",
              "isRequired": false
            },
            {
              "id": "constraints",
              "label": "Ограничения и особенности",
              "placeholder": "Например: нет разработчика, нельзя трогать цены, есть трафик только из рекламы…",
              "type": "longText",
              "isRequired": false
            }
          ],
          "promptTemplate": null,
          "rubric": null,
          "exportType": null
        },
        {
          "id": "ai_generate_hypotheses",
          "kind": "aiGenerate",
          "title": "Черновик гипотез",
          "description": "Сгенерируем 10–15 гипотез для A/B‑экспериментов с оценкой влияния и сложности.",
          "fields": null,
          "promptTemplate": "Ты — продуктовый аналитик и UX‑исследователь.\n\nПродукт:\n{{product}}\n\nГлавная метрика: {{goal_metric}}\nУчасток воронки: {{funnel_stage}}\nОграничения и особенности: {{constraints}}\n\nСгенерируй 10–15 гипотез для A/B‑экспериментов.\nОформи в виде таблицы (текстом):\n- Идея (что меняем)\n- Зона воронки\n- Ожидаемый эффект на метрику (коротко)\n- Impact: низкий/средний/высокий\n- Effort: низкий/средний/высокий\n- Риск: низкий/средний/высокий",
          "rubric": null,
          "exportType": null
        },
        {
          "id": "review_prioritization",
          "kind": "reviewRubric",
          "title": "Приоритизация гипотез",
          "description": "Попросим AI выбрать 3–5 самых разумных гипотез по соотношению Impact/Effort/риск.",
          "fields": null,
          "promptTemplate": "Вот список гипотез для A/B‑тестов:\n---\n{{previous_result}}\n---\n\nОтбери 3–5 гипотез, которые лучше всего подходят для старта (быстрый тест с заметным эффектом и умеренными рисками).\nДля каждой выбранной гипотезы укажи:\n- Почему именно она\n- Какую метрику будем смотреть\n- Какой ожидаем знак изменения (рост/снижение)\n\nВ конце сделай короткое резюме: с чего начать первым и почему.",
          "rubric": [
            {
              "id": "impact",
              "title": "Потенциальный эффект",
              "description": "Гипотеза может заметно повлиять на выбранную метрику."
            },
            {
              "id": "effort",
              "title": "Сложность реализации",
              "description": "Гипотезу реально протестировать в разумные сроки."
            },
            {
              "id": "risk",
              "title": "Риски",
              "description": "Нет критичных рисков для бренда, денег и пользователей."
            }
          ],
          "exportType": null
        },
        {
          "id": "export_matrix",
          "kind": "export",
          "title": "Сохранить матрицу гипотез",
          "description": "Скопируй итоговую матрицу и приоритизацию, чтобы использовать её в планировании экспериментов.",
          "fields": null,
          "promptTemplate": null,
          "rubric": null,
          "exportType": "copyText"
        }
      ]
    },
    {
      "id": "feature_decomposition_plan",
      "title": "Декомпозиция фичи",
      "scenarioId": "study_helper",
      "domain": "tech",
      "estimatedMinutes": 15,
      "isProOnly": true,
      "steps": [
        {
          "id": "collect_feature",
          "kind": "collect",
          "title": "Что за фича и для кого",
          "description": "Опиши, какую фичу хочешь реализовать и для какой аудитории.",
          "fields": [
            {
              "id": "feature",
              "label": "Описание фичи",
              "placeholder": "Например: экран рекомендаций, новый отчёт, push‑уведомления…",
              "type": "longText",
              "isRequired": true
            },
            {
              "id": "user_segment",
              "label": "Кто будет пользоваться",
              "placeholder": "Например: новые пользователи, платящие, администраторы…",
              "type": "shortText",
              "isRequired": false
            },
            {
              "id": "stack",
              "label": "Платформа и стек",
              "placeholder": "Например: iOS, Android, веб, backend на Node/Go, база данных…",
              "type": "longText",
              "isRequired": false
            },
            {
              "id": "constraints",
              "label": "Ограничения",
              "placeholder": "Например: сроки, нет дизайнера, нельзя менять API, важна обратная совместимость…",
              "type": "longText",
              "isRequired": false
            }
          ],
          "promptTemplate": null,
          "rubric": null,
          "exportType": null
        },
        {
          "id": "ai_decompose_feature",
          "kind": "aiGenerate",
          "title": "Черновик плана задач",
          "description": "Попросим AI разложить фичу на задачи с пометкой, что можно отдать ассистенту.",
          "fields": null,
          "promptTemplate": "Ты — тимлид разработки.\n\nФича:\n{{feature}}\n\nАудитория: {{user_segment}}\nСтек и платформа: {{stack}}\nОграничения: {{constraints}}\n\nРазложи фичу на список задач. Оформи как список пунктов:\n- Задача\n- Кто основно отвечает: разработчик / аналитик / дизайнер / продакт\n- Что можно делегировать AI (например: подготовка черновиков текстов, генерация тест‑кейсов, рефакторинг и т.п.)\n- Оценка сложности: S/M/L (очень грубо)\n\nВ конце предложи 3–5 задач, с которых логично начать.",
          "rubric": null,
          "exportType": null
        },
        {
          "id": "review_completeness",
          "kind": "reviewRubric",
          "title": "Проверка полноты и рисков",
          "description": "Попросим AI проверить, хватает ли задач и видны ли основные риски.",
          "fields": null,
          "promptTemplate": "Вот план задач по фиче:\n---\n{{previous_result}}\n---\n\nПроверь план по критериям:\n1) Нет ли очевидных пропусков (например, миграции, мониторинг, фиче‑флаги).\n2) Продуманы ли проверки и тесты.\n3) Отмечены ли основные риски.\n\nЕсли видишь пропуски, предложи, какие пункты добавить в план (с краткими формулировками). В конце сделай короткий список рисков, за которыми надо следить.",
          "rubric": [
            {
              "id": "completeness",
              "title": "Полнота",
              "description": "В плане есть ключевые шаги: реализация, тесты, выкладка, мониторинг."
            },
            {
              "id": "testing",
              "title": "Проверки и тесты",
              "description": "Понимаем, как будем проверять, что фича работает."
            },
            {
              "id": "risks",
              "title": "Риски",
              "description": "Выделены основные риски и точки внимания."
            }
          ],
          "exportType": null
        },
        {
          "id": "export_plan",
          "kind": "export",
          "title": "Сохранить план",
          "description": "Скопируй план задач, чтобы перенести его в трекер или чеклист.",
          "fields": null,
          "promptTemplate": null,
          "rubric": null,
          "exportType": "copyText"
        }
      ]
    }
  ]
}
